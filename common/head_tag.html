





<script src="https://fast.wistia.com/embed/medias/fvubd12yli.jsonp" async></script>
<script src="https://fast.wistia.com/assets/external/E-v1.js" async></script>
<script src="https://fast.wistia.com/assets/external/E-v1.js" async></script>
<script src="https://fast.wistia.com/embed/medias/fvubd12yli.jsonp" async></script>
<script src="https://fast.wistia.com/assets/external/E-v1.js" async></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<script type="text/discourse-plugin" version="0.8">
  const RawHtml = require("discourse/widgets/raw-html").default;

  api.decorateWidget("post-menu:after", helper => {
    const firstPost = helper.attrs.firstPost; // Check if it's the first post
    if (firstPost) {
      const postUrl = encodeURIComponent(window.location.href); // Encodes the post URL for sharing
      const postTitle = encodeURIComponent(document.title); // Encodes the post title for sharing

      return [
        new RawHtml({
          html: `<div class="custom-share-section">
          <span><b>Share page:</b></span>

          <!-- First 4 icons -->
          <div class="icon-row">
            <a href="https://twitter.com/share?url=${postUrl}&text=${postTitle}" target="_blank" class="share-icon" title="Share on X">
              <i class="fa-brands fa-x-twitter"></i> <!-- Font Awesome Twitter Icon -->
            </a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=${postUrl}" target="_blank" class="share-icon" title="Share on Facebook">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="https://api.whatsapp.com/send?text=${postTitle}%20${postUrl}" target="_blank" class="share-icon" title="Share on WhatsApp">
              <i class="fab fa-whatsapp"></i>
            </a>
            <a href="https://www.messenger.com/t/?link=${postUrl}" target="_blank" class="share-icon" title="Share on Messenger">
              <i class="fab fa-facebook-messenger"></i>
            </a>

            <!-- Toggle button -->
            <div class="toggle-icons">
              <i class="fas fa-arrow-down" id="toggle-arrow" title="Show more"></i>
            </div>
          </div>

          <!-- Hidden icons -->
          <div class="icon-row hidden-icons" style="display:none;">
            <a href="https://t.me/share/url?url=${postUrl}&text=${postTitle}" target="_blank" class="share-icon" title="Share on Telegram">
              <i class="fab fa-telegram-plane"></i>
            </a>
            <a href="mailto:?subject=${postTitle}&body=${postUrl}" class="share-icon" title="Share via Email">
              <i class="fas fa-envelope"></i> <!-- Font Awesome Email Icon -->
            </a>
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=${postUrl}&title=${postTitle}" target="_blank" class="share-icon" title="Share on LinkedIn">
              <i class="fab fa-linkedin-in"></i>
            </a>
            <a href="https://www.reddit.com/submit?url=${postUrl}&title=${postTitle}" target="_blank" class="share-icon" title="Share on Reddit">
              <i class="fab fa-reddit-alien"></i>
            </a>
            <a href="weixin://dl/chat?text=${postTitle}%20${postUrl}" class="share-icon" title="Share on WeChat">
              <i class="fab fa-weixin"></i> <!-- Font Awesome WeChat Icon -->
            </a>
            <a href="https://www.tumblr.com/widgets/share/tool?canonicalUrl=${postUrl}&title=${postTitle}" target="_blank" class="share-icon" title="Share on Tumblr">
              <i class="fab fa-tumblr"></i> <!-- Font Awesome Tumblr Icon -->
            </a>
            <a href="https://pinterest.com/pin/create/button/?url=${postUrl}&description=${postTitle}" target="_blank" class="share-icon" title="Share on Pinterest">
              <i class="fab fa-pinterest"></i> <!-- Font Awesome Pinterest Icon -->
            </a>
            <a href="https://discord.com/channels/@me" target="_blank" class="share-icon" title="Share on Discord">
              <i class="fab fa-discord"></i>
            </a>
          </div>

        </div>`
        })
      ];
    }
  });

  // Toggle visibility of the hidden icons
  api.onPageChange(() => {
    const toggleArrow = document.getElementById('toggle-arrow');
    const hiddenIcons = document.querySelector('.hidden-icons');

    if (toggleArrow && hiddenIcons) {
      toggleArrow.addEventListener('click', function() {
        if (hiddenIcons.style.display === 'none') {
          hiddenIcons.style.display = 'flex';
          toggleArrow.classList.remove('fa-arrow-down');
          toggleArrow.classList.add('fa-arrow-up');
          toggleArrow.title = 'Show less';
        } else {
          hiddenIcons.style.display = 'none';
          toggleArrow.classList.remove('fa-arrow-up');
          toggleArrow.classList.add('fa-arrow-down');
          toggleArrow.title = 'Show more';
        }
      });
    } else {
      console.error("Toggle arrow or hidden icons element not found");
    }
  });
</script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

